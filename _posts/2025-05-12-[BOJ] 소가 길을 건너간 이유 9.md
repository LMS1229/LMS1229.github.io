---
title: "[BOJ] 소가 길을 건너간 이유 9"
author:
name: 이민석
date: 2025-05-12 18:00:00 +0900
categories: ["PS"]
tag: ["세그먼트 트리"]
toc: true
math: true
---

[BOJ 14463 소가 길을 건너간 이유 9](https://www.acmicpc.net/problem/14463)

## 풀이

어떤 두 소 $A,~B$에 대해서 두 소의 위치를 각각 $A_s,~A_e,~B_s,~B_e$ 라고 하자.$(A_s \lt A_e,~ B_s \lt B_e)$

이 두 소가 반드시 만나기 위해선 $A_s \lt B_s \lt A_e \lt B_e$ 를 만족해야 한다. 

즉, 모든 소 $X$ 에 대해서 $X_s$ 보다 먼저 등장한 소$Y$들 중에 $X_e \lt Y_e$를 만족하는 $Y$가 몆마리인지 구하면 된다. 

이는 주어진 소들의 위치를 저장하며 먼저 등장한 순으로 정렬한다.

그 후, 가장 앞에 있는 소부터 탐색하며 현재 소 $X$ 에 대하여 $[X_s:X_e]$ 까지 등장한 소의 마릿수를 센다.

그리고 $X_s,~ X_e$ 에 소를 추가한다. 

이를 모든 소에 대하여 계산한 후, 더해주면 된다.
