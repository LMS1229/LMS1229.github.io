---
title: "[BOJ] 할로윈의 양아치"
author:
name: 이민석
date: 2023-11-14 19:40:00 +0900
categories: ["PS"]
tags: ["다이나믹 프로그래밍", "Union-Find"]
math: true
toc: true
---

[BOJ 할로윈의 양아치](https://www.acmicpc.net/problem/20303)

# 풀이

 아이의 사탕을 뺏으면 아이의 친구의 사탕도 뺏는다. 이는 아이들을 정점, 친구 관계를 간선으로 본다면 한 아이의 사탕을 뺏으면 그 아이로부터 출발해 도달할 수 있는 모든 아이의 사탕도 뺏는다는 것이다. 

그렇다면 아이 $x$ 의 사탕을 뺏을 때, 아이 $y$ 의 사탕도 뺏긴다면 둘 중, 누구의 사탕을 뺏어도 상관없으니 동시에 뺏을 수 있는 아이들을 하나의 집합으로 묶어도 상관없다. 

따라서 $N$명의 아이들을 $M$ 개의 친구 관계를 이용해 Union-Find 구조를 만들어주면 어느 아이의 사탕을 뺏으면 총 몇 명의 아이의 사탕을 뺏게 되는지, 몇 개의 사탕을 뺏는 지를 구할 수 있다. 

이렇게 만들어진 아이들의 집합들을 $A_i (\in A)$ 하자. 

$f(k,x)=$ $(A_1 \sim A_k$ 까지 고려했을 때 $x$ 명의 아이의 사탕을 뺏어서 얻을 수 있는 최대 사탕 수$)$ 라 하면

$sum(A_i)$ = ($A_i$ 에 있는 아이들의 사탕 개수 합) 일때

$f(k,x)=max(f(k-1,x),f(k-1,x-n(A_k))+sum(A_k))$ 가 된다. 

따라서 우리가 구하고자 하는 값은 최적 부분 구조를 이루므로 동적 계획법을 이용하여 풀 수 있다. 

최종적으로 $N$ 명의 아이에 대한 집합을 만드는데 $O(N+M)$ , 그 집합을 이용해 값을 구하는데 $O(n(A)K)$  의 시간 복잡도를 가진다.