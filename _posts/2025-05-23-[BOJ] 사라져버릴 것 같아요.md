---
title: "[BOJ] 사라져버릴 것 같아요"
author:
name: 이민석
date: 2025-05-23 09:00:00 +0900
categories: ["PS"]
tag: ["조합론"]
toc: true
math: true
---

[BOJ 33838 사라져버릴 것 같아요](https://www.acmicpc.net/problem/33838)

## 풀이

각 유형별의 사람들이 어떻게 배치될 수 있는지 생각해보자.

1. 내향형의 사람은 양 옆에 아무도 없도록 배치해야 된다. (`x(내향)x` 과 같은 형태)
2. 균형형 사람은 서로가 양 끝에 있어야 한다. (`x(균형)~~~(균형)x` 과 같은 형태)
3. 외향형 사람은 두 균형형 사람의 사이에 있어야 한다. (`x(균형)(외향)(외향)~(외향)(외향)(균형)x` 과 같은 형태)

즉, $A+\frac{B}{2}$ 개의 그룹을 최소 한 칸 씩 떨어트린 상태로 배치될 수 있는 경우의 수와 해당 그룹에 배치될 수 있는 $C$ 의 경우의 수, 각 그룹에 배치 될 수 있는 경우의 수를 모두 곱해주면 된다.

먼저 그룹을 배치할 수 있는 경우는 그룹의 개수를 $G$ 라고 가정하자.

1. 그룹의 배치 순서의 개수는 $\binom{G}{A}$ 이다.
2. 각각 배치에서 $C$를 배치할 수 있는 인원 수의 조합은 $\frac{B}{2}$개를 중복 포함 $C$ 개를 뽑은 경우와 같으므로 $_{\frac{B}{2}}H_{C}$ 이다.
3. 배치의 조합에서 따라 인원을 배치해야 하는데 이는 $A!\times B!\times C!$ 이다.
4. 전체 의자 중, 반드시 필요한 의자의 개수 $A+B+C+(G-1)=R$ 를 제외한 의자는 그룹 사이와 맨 앞, 맨 뒤에 배치해야 하므로 이는 $_{G+1}H_{R}$ 이다.

따라서 배치 가능한 경우의 수는 1~4 까지 구한 조합을 모두 곱해주면 된다.

그러나 배치가 불가능한 경우의 수가 있는데 이는 다음과 같다.

1. $G+(G-1) \gt N$ 인 경우
2. $B$가 홀수인 경우
3. $B=0$ 이고 $C \gt 0$ 인 경우
