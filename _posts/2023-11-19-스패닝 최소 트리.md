---
title: "[BOJ] 스패닝 최소 트리"
author:
name: 이민석
date: 2023-11-19 20:28:00 +0900
categories: ["PS"]
tags: ["그리디","최소 스패닝 트리"]
math: true
---


[BOJ 스패팅 최소 트리](https://www.acmicpc.net/problem/30707)

## 풀이

먼저, 문제에서 요구한 $M$ 개의 간선으로 이루어진 그래프$G$ 에서 최소 스패팅 트리를 $T_{M}$  이라 하자. $M=N-1$ 이라면 $T_{M}$ 에 존재하는 간선들의 가중치 합은 $\sum_{i=1}^{N-1}i$ 이다. \
이 때의 그래프 $G$는 모든 정점이 1자로 이어진 형태로 볼 수 있고 간선$(k,k+1)$ 의 가중치는 $k$ 이다.

이제 그래프 $G$ 에 간선을 추가하자.\
$n$ 번째에 추가된 간선의 가중치를 $n$이라 하자. 정점 $x$ 에 대하여 간선 $(x,x+1)$ 을 추가할 때, 간선 $(a,b),(1\le a,b \lt x-1, a \lt b, a+1 \ne b) $ 이 $c$ 번 추가 된다면 $G$ 의 최소 스패닝 트리의 가중치 합은 $\sum_{i=1}^{x-1}i + \sum_{i=x+c}^{N-1+c}i = \sum_{i=1}^{N-1}i + (N-x)c$ 가 된다. 

따라서 조건을 만족하는 그래프 $G$ 가 존재한다면 $S=\sum_{i=1}^{N-1}i + (N-v_1)n_1 + (N-v_2)n_2 + ... (N-v_k)n_k,(v_i \lt v_{i+1}) $ 형태로 표현할 수 있다. \
모든 $v,n$ 을 구하기 위해선 간선 $(v,v+1)$이 그래프에 추가될 때 마다 현재 그래프 $G^\prime$ 최소 스패닝 트리의 가중치합 $W$ 에 대하여 $W+(N-v)n \le S$ 를 만족하도록  간선을 $(a,b)$ 를 $G^\prime$ 에 추가한 뒤,  간선 $(v,v+1)$를 추가한다. 
그 뒤, 이후에 추가될 수 있는 간선 간선 $(a,v)(1\le a \lt v-1)$ 를 저장해둔다. \
위 과정을 모두 거치고 난 뒤, $G$가 조건을 만족하는지 판정하면 된다. 